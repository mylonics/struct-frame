// Automatically generated frame parser base utilities
// Generated by 0.0.1 at Wed Dec  3 17:57:16 2025.

// Frame format type enumeration
const FrameFormatType = {
    MINIMAL_FRAME: 0,
    BASIC_FRAME: 1,
    BASIC_FRAME_NO_CRC: 2,
    TINY_FRAME: 3,
    TINY_FRAME_NO_CRC: 4,
    MINIMAL_FRAME_WITH_LEN: 5,
    MINIMAL_FRAME_WITH_LEN_NO_CRC: 6,
    BASIC_FRAME_WITH_LEN: 7,
    BASIC_FRAME_WITH_LEN_NO_CRC: 8,
    TINY_FRAME_WITH_LEN: 9,
    TINY_FRAME_WITH_LEN_NO_CRC: 10,
    MINIMAL_FRAME_WITH_LEN16: 11,
    MINIMAL_FRAME_WITH_LEN16_NO_CRC: 12,
    BASIC_FRAME_WITH_LEN16: 13,
    BASIC_FRAME_WITH_LEN16_NO_CRC: 14,
    TINY_FRAME_WITH_LEN16: 15,
    TINY_FRAME_WITH_LEN16_NO_CRC: 16,
    BASIC_FRAME_WITH_SYS_COMP: 17,
    UBX_FRAME: 18,
    MAVLINK_V1_FRAME: 19,
    MAVLINK_V2_FRAME: 20,
    FRAME_FORMAT_CONFIG: 21,
};

// Fletcher-16 checksum calculation
function fletcher_checksum(buffer, start = 0, end = undefined) {
    if (end === undefined) {
        end = buffer.length;
    }

    let byte1 = 0;
    let byte2 = 0;

    for (let i = start; i < end; i++) {
        byte1 = (byte1 + buffer[i]) % 256;
        byte2 = (byte2 + byte1) % 256;
    }

    return [byte1, byte2];
}

// Create default FrameMsgInfo
function createFrameMsgInfo() {
    return {
        valid: false,
        msg_id: 0,
        msg_len: 0,
        msg_data: new Uint8Array(0)
    };
}

module.exports = {
    FrameFormatType,
    fletcher_checksum,
    createFrameMsgInfo,
};
