// Automatically generated frame parser base utilities
// Generated by 0.0.1 at Thu Dec  4 19:40:48 2025.

// Frame format type enumeration
export enum FrameFormatType {
    TINY_MINIMAL = 0,
    TINY_DEFAULT = 1,
    TINY_EXTENDED_MSG_IDS = 2,
    TINY_EXTENDED_LENGTH = 3,
    TINY_EXTENDED = 4,
    TINY_SYS_COMP = 5,
    TINY_SEQ = 6,
    TINY_MULTI_SYSTEM_STREAM = 7,
    TINY_EXTENDED_MULTI_SYSTEM_STREAM = 8,
    BASIC_MINIMAL = 9,
    BASIC_DEFAULT = 10,
    BASIC_EXTENDED_MSG_IDS = 11,
    BASIC_EXTENDED_LENGTH = 12,
    BASIC_EXTENDED = 13,
    BASIC_SYS_COMP = 14,
    BASIC_SEQ = 15,
    BASIC_MULTI_SYSTEM_STREAM = 16,
    BASIC_EXTENDED_MULTI_SYSTEM_STREAM = 17,
    UBX_FRAME = 18,
    MAVLINK_V1_FRAME = 19,
    MAVLINK_V2_FRAME = 20,
    FRAME_FORMAT_CONFIG = 21,
}

// Fletcher-16 checksum calculation
export function fletcher_checksum(buffer: Uint8Array | number[], start: number = 0, end?: number): [number, number] {
    if (end === undefined) {
        end = buffer.length;
    }

    let byte1 = 0;
    let byte2 = 0;

    for (let i = start; i < end; i++) {
        byte1 = (byte1 + buffer[i]) % 256;
        byte2 = (byte2 + byte1) % 256;
    }

    return [byte1, byte2];
}

// Parse result interface
export interface FrameMsgInfo {
    valid: boolean;
    msg_id: number;
    msg_len: number;
    msg_data: Uint8Array;
}

// Create default FrameMsgInfo
export function createFrameMsgInfo(): FrameMsgInfo {
    return {
        valid: false,
        msg_id: 0,
        msg_len: 0,
        msg_data: new Uint8Array(0)
    };
}
