# Automatically generated frame parser base utilities
# Generated by 0.0.1 at Thu Dec  4 18:04:46 2025.

from enum import Enum
from typing import List, Tuple, Union
from dataclasses import dataclass

# Frame format type enumeration
class FrameFormatType(Enum):
    TINY_MINIMAL = 0
    TINY_DEFAULT = 1
    TINY_EXTENDED_MSG_IDS = 2
    TINY_EXTENDED_LENGTH = 3
    TINY_EXTENDED = 4
    TINY_SYS_COMP = 5
    TINY_SEQ = 6
    TINY_MULTI_SYSTEM_STREAM = 7
    TINY_EXTENDED_MULTI_SYSTEM_STREAM = 8
    BASIC_MINIMAL = 9
    BASIC_DEFAULT = 10
    BASIC_EXTENDED_MSG_IDS = 11
    BASIC_EXTENDED_LENGTH = 12
    BASIC_EXTENDED = 13
    BASIC_SYS_COMP = 14
    BASIC_SEQ = 15
    BASIC_MULTI_SYSTEM_STREAM = 16
    BASIC_EXTENDED_MULTI_SYSTEM_STREAM = 17
    UBX_FRAME = 18
    MAVLINK_V1_FRAME = 19
    MAVLINK_V2_FRAME = 20
    FRAME_FORMAT_CONFIG = 21


def fletcher_checksum(buffer: Union[bytes, List[int]], start: int = 0, end: int = None) -> Tuple[int, int]:
    """Calculate Fletcher-16 checksum over the given data"""
    if end is None:
        end = len(buffer)

    byte1 = 0
    byte2 = 0

    for x in range(start, end):
        byte1 = (byte1 + buffer[x]) % 256
        byte2 = (byte2 + byte1) % 256

    return (byte1, byte2)


@dataclass
class FrameMsgInfo:
    """Parse result containing message information"""
    valid: bool = False
    msg_id: int = 0
    msg_len: int = 0
    msg_data: bytes = b''
